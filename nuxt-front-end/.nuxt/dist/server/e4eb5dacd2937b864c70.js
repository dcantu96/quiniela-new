exports.ids=[5],exports.modules={55:function(e,t,r){"use strict";r.r(t);var o=r(31),n=r.n(o),l={middleware:"auth",async asyncData({$axios:e,route:t,params:r,$auth:o}){const l=new n.a({apiUrl:"http://localhost:8080/api/v1"});l.headers.Authorization=o.getToken("local"),l.define("team",{name:"",abbreviation:"",sport:{jsonApi:"hasOne",type:"sports"}}),l.define("sport",{name:"",teams:{jsonApi:"hasMany",type:"teams"},tournaments:{jsonApi:"hasMany",type:"tournaments"}});let{data:data,errors:m,meta:meta,links:d}=await l.find("team",t.params.id,{include:"sport"});return{data:data}},beforeCreate(){this.form=this.$form.createForm(this)},methods:{async updateTeam(){try{const e=new n.a({apiUrl:"http://localhost:8080/api/v1"});e.headers.Authorization=this.$auth.getToken("local"),e.define("team",{name:"",abbreviation:"",sport:{jsonApi:"hasOne",type:"sports"}}),e.define("sport",{name:"",teams:{jsonApi:"hasMany",type:"teams"},tournaments:{jsonApi:"hasMany",type:"tournaments"}}),await e.update("team",{id:this.data.id,name:this.form.getFieldValue("name"),abbreviation:this.form.getFieldValue("abbreviation"),sport:{id:this.form.getFieldValue("sport")}}),this.$toast.success("Team updated successfully!"),this.$router.push("/teams")}catch(e){this.$toast.error("Error while updating team!")}}}},m=r(1),component=Object(m.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-form",{attrs:{form:e.form,theme:"dark"},on:{submit:e.updateTeam}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.data.name}],expression:"['name', { initialValue: data.name }]"}],attrs:{type:"text"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),e._v(" "),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["abbreviation",{initialValue:e.data.abbreviation}],expression:"['abbreviation', { initialValue: data.abbreviation }]"}],attrs:{type:"text",placeholder:"Abbreviation"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),e._v(" "),r("a-form-item",[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sport",{initialValue:e.data.sport.id},{rules:[{required:!0,message:"Please select sport!"}]}],expression:"[\n        'sport',\n        { initialValue: data.sport.id },\n        {rules: [{ required: true, message: 'Please select sport!' }]}\n      ]"}],attrs:{placeholder:"Please select a sport"}},[r("a-select-option",{attrs:{value:"1"}},[e._v("NFL Football")]),e._v(" "),r("a-select-option",{attrs:{value:"2"}},[e._v("MLB Baseball")])],1)],1),e._v(" "),r("a-form-item",[r("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("Update")])],1)],1)},[],!1,null,null,"28860100");t.default=component.exports}};
//# sourceMappingURL=e4eb5dacd2937b864c70.js.map