exports.ids=[7],exports.modules={32:function(t,e,o){var content=o(38);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var n=o(4).default;t.exports.__inject__=function(t){n("4640d3eb",content,!0,t)}},37:function(t,e,o){"use strict";o.r(e);var n=o(32),r=o.n(n);for(var d in n)"default"!==d&&function(t){o.d(e,t,function(){return n[t]})}(d);e.default=r.a},38:function(t,e,o){(t.exports=o(3)(!1)).push([t.i,".button-add[data-v-7f4e20ce]{margin-bottom:10px}.editable-row-operations a[data-v-7f4e20ce]{margin-right:8px}",""])},51:function(t,e,o){"use strict";o.r(e);var n=o(31),r=o.n(n),d={middleware:"auth",async asyncData({$axios:t,$auth:e}){const o=new r.a({apiUrl:"http://localhost:8080/api/v1"});o.headers.Authorization=e.getToken("local"),o.define("team",{name:"",abbreviation:"",sport:{jsonApi:"hasOne",type:"sports"}}),o.define("sport",{name:"",teams:{jsonApi:"hasMany",type:"teams"},tournaments:{jsonApi:"hasMany",type:"tournaments"}});let{data:data,errors:n,meta:meta,links:d}=await o.findAll("teams",{include:"sport"});return{data:data}},data:()=>({columns:[{title:"Name",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"Abbreviation",dataIndex:"abbreviation",scopedSlots:{customRender:"abbreviation"}},{title:"Sport",dataIndex:"sport.name",scopedSlots:{customRender:"sport"}},{title:"operation",scopedSlots:{customRender:"operation"}}]}),methods:{async deleteTeam(t){try{const e=new r.a({apiUrl:"http://localhost:8080/api/v1"});e.headers.Authorization=this.$auth.getToken("local"),e.define("team",{name:"",abbreviation:"",sport:{jsonApi:"hasOne",type:"sports"}}),await e.destroy("team",t.id);const data=[...this.data];this.data=data.filter(e=>e.id!==t.id),this.$toast.success("Delete team successfully!")}catch(t){this.$toast.error(t)}},async addTeam(t){try{await this.$axios.post("/teams",{team:{name:this.form.getFieldValue("name"),abbreviation:this.form.getFieldValue("aabbreviationb"),sport_id:this.form.getFieldValue("sport")}});const e=[...this.dataSource];this.dataSource=e.filter(e=>e.id!==t.id),this.$toast.success("Delete team successfully!")}catch(t){this.$toast.error(t)}},handleChange(t,e,o){const n=[...this.dataSource],r=n.filter(t=>e===t.id)[0];r&&(r[o]=t,this.dataSource=n)},handleAdd(){const{dataSource:t}=this;this.dataSource=[...t,{name:"",abbreviation:"",sport_id:""}]},edit(t){const e=[...this.dataSource],o=e.filter(e=>t===e.id)[0];o&&(o.editable=!0,this.dataSource=e)},save(t){const e=[...this.dataSource],o=e.filter(e=>t===e.id)[0];o&&(delete o.editable,this.dataSource=e,this.cacheData=e.map(t=>({...t})))},cancel(t){const e=[...this.dataSource],o=e.filter(e=>t===e.id)[0];o&&(Object.assign(o,this.cacheData.filter(e=>t===e.id)[0]),delete o.editable,this.dataSource=e)}}},c=o(1);var component=Object(c.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("n-link",{attrs:{to:"/teams/new"}},[o("a-button",{staticClass:"button-add"},[t._v("New Team")])],1),t._ssrNode(" "),o("a-table",{attrs:{columns:t.columns,dataSource:t.data,bordered:"",size:"middle",rowKey:"id"},scopedSlots:t._u([{key:"operation",fn:function(text,e){return[o("div",{staticClass:"editable-row-operations"},[o("span",[o("a-button",{attrs:{type:"primary"}},[o("n-link",{attrs:{to:{name:"teams-id-edit",params:{id:e.id}}}},[t._v("Edit Team")])],1),t._v(" "),t.data.length?o("a-popconfirm",{attrs:{title:"Sure to delete?"},on:{confirm:function(){return t.deleteTeam(e)}}},[o("a-button",{attrs:{type:"danger",shape:"circle",icon:"cross"}})],1):t._e()],1)])]}}])})],2)},[],!1,function(t){var e=o(37);e.__inject__&&e.__inject__(t)},"7f4e20ce","541cd661");e.default=component.exports}};
//# sourceMappingURL=ec629c8b0892ad4958ac.js.map