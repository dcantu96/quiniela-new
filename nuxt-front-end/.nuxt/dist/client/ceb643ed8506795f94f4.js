(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1151:function(t,e,r){var content=r(1340);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(122).default)("4640d3eb",content,!0,{sourceMap:!1})},1339:function(t,e,r){"use strict";var n=r(1151);r.n(n).a},1340:function(t,e,r){(t.exports=r(121)(!1)).push([t.i,".button-add[data-v-7f4e20ce]{margin-bottom:10px}.editable-row-operations a[data-v-7f4e20ce]{margin-right:8px}",""])},1353:function(t,e,r){"use strict";r.r(e);var n=r(44);function o(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r(63);var c=r(15),d=r(1131),l=r.n(d),f={middleware:"auth",asyncData:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(e){var r,n,o,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$axios,r=e.$auth,(n=new l.a({apiUrl:"http://localhost:8080/api/v1"})).headers.Authorization=r.getToken("local"),n.define("team",{name:"",abbreviation:"",sport:{jsonApi:"hasOne",type:"sports"}}),n.define("sport",{name:"",teams:{jsonApi:"hasMany",type:"teams"},tournaments:{jsonApi:"hasMany",type:"tournaments"}}),t.next=7,n.findAll("teams",{include:"sport"});case 7:return o=t.sent,data=o.data,o.errors,o.meta,o.links,t.abrupt("return",{data:data});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),data:function(){return{columns:[{title:"Name",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"Abbreviation",dataIndex:"abbreviation",scopedSlots:{customRender:"abbreviation"}},{title:"Sport",dataIndex:"sport.name",scopedSlots:{customRender:"sport"}},{title:"operation",scopedSlots:{customRender:"operation"}}]}},methods:{deleteTeam:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(e){var r,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=new l.a({apiUrl:"http://localhost:8080/api/v1"})).headers.Authorization=this.$auth.getToken("local"),r.define("team",{name:"",abbreviation:"",sport:{jsonApi:"hasOne",type:"sports"}}),t.next=6,r.destroy("team",e.id);case 6:data=o(this.data),this.data=data.filter(function(t){return t.id!==e.id}),this.$toast.success("Delete team successfully!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),this.$toast.error(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),addTeam:function(){var t=Object(c.a)(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.post("/teams",{team:{name:this.form.getFieldValue("name"),abbreviation:this.form.getFieldValue("aabbreviationb"),sport_id:this.form.getFieldValue("sport")}});case 3:r=o(this.dataSource),this.dataSource=r.filter(function(t){return t.id!==e.id}),this.$toast.success("Delete team successfully!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.$toast.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),handleChange:function(t,e,r){var n=o(this.dataSource),c=n.filter(function(t){return e===t.id})[0];c&&(c[r]=t,this.dataSource=n)},handleAdd:function(){var t=this.dataSource;this.dataSource=[].concat(o(t),[{name:"",abbreviation:"",sport_id:""}])},edit:function(t){var e=o(this.dataSource),r=e.filter(function(e){return t===e.id})[0];r&&(r.editable=!0,this.dataSource=e)},save:function(t){var e=o(this.dataSource),r=e.filter(function(e){return t===e.id})[0];r&&(delete r.editable,this.dataSource=e,this.cacheData=e.map(function(t){return Object(n.a)({},t)}))},cancel:function(t){var e=o(this.dataSource),r=e.filter(function(e){return t===e.id})[0];r&&(Object.assign(r,this.cacheData.filter(function(e){return t===e.id})[0]),delete r.editable,this.dataSource=e)}}},m=(r(1339),r(19)),component=Object(m.a)(f,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("n-link",{attrs:{to:"/teams/new"}},[r("a-button",{staticClass:"button-add"},[t._v("New Team")])],1),t._v(" "),r("a-table",{attrs:{columns:t.columns,dataSource:t.data,bordered:"",size:"middle",rowKey:"id"},scopedSlots:t._u([{key:"operation",fn:function(text,e){return[r("div",{staticClass:"editable-row-operations"},[r("span",[r("a-button",{attrs:{type:"primary"}},[r("n-link",{attrs:{to:{name:"teams-id-edit",params:{id:e.id}}}},[t._v("Edit Team")])],1),t._v(" "),t.data.length?r("a-popconfirm",{attrs:{title:"Sure to delete?"},on:{confirm:function(){return t.deleteTeam(e)}}},[r("a-button",{attrs:{type:"danger",shape:"circle",icon:"cross"}})],1):t._e()],1)])]}}])})],1)},[],!1,null,"7f4e20ce",null);e.default=component.exports}}]);